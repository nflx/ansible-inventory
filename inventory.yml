---

# Example inventory

# Make groups from hostname matches
# This is an optional feature.
matcher:

  # Search in the full hostname, and in hostname 
  # parts (stoext-docker01 is splited to the parts
  # 'stoext' and 'docker').

  # This example will create the groups 'sto', 'ext'
  # 'prod' and so on ... on matches. Set capture to
  # True to enable this feature.
  - regexp: '(sto|lon)([a-z]+)'
    capture: True

  # Assigns the group 'internt' to matching machines.
  - regexp: '(sto|lon)int'
    groups:
      - internt

  # Assigns the group 'test1' to matching machines,
  # and do NOT create the group 'oin'.
  - regexp: 'st(oin)t'
    capture: false
    groups:
      - test1

# This is the inventory group defination with 
# hosts. The example below will create the 
# groups 'site', 'www', 'docker', 'app', 
# 'site-www', 'site-docker', 'stoprod', 
# 'lonprod', 'pres', 'stoext' and 'stoint'.
# (more groups are created in the matcher 
# rules above)
groups:
  site:
    www:
      - stoprod-pres01
      - stoprod-pres02
      - lonprod-pres01
      - lonprod-pres02
    docker:
      - name: stoext-docker01
        tags:
          - app
      - stoext-docker02
      - stoint-docker01
      - stoint-docker02
      - stoint-docker03

# You can assign inventory variables here,
# this is parsed after both groups and matcher
# so all groups are available.
vars:
  site:
    - website=mysite.ltd
  www:
    - website=www.mysite.ltd
  lon:
    - search=lon.mysite.ltd
  sto:
    - search=sto.mysite.ltd
